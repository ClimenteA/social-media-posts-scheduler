{% extends "base.html" %}
{% load static %}

{% block page-title %} Calendar {% endblock %}


{% block body %}

<style>
    article {
        min-width: fit-content;
        padding-left: 2rem;
        padding-right: 2rem;
    }
</style>

<hgroup class="title-description container">
    <h1 style="display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;">
        <span>üóìÔ∏è Calendar</span>

        <select x-data="{
            getYearPosts: function(event){
                document.location.href = `?year=${event.target.value}`;
            }
        }" @change="getYearPosts" class="mb-2" style="margin: 0; width: fit-content;">
            {% for year in select_years %}
            <option value="{{ year }}" {% if selected_year == year %} selected {% endif %}>
                {{ year }}
            </option>
            {% endfor %}
        </select>

        <a role="button" class="outline" href="{% url 'schedule_form' isodate=today %}">
            Post Today üëâ
        </a>

    </h1>

    <div x-cloak x-data="{ showFullText: false }" style="margin-top: 20px;">
        <p @click="showFullText = !showFullText" x-show="!showFullText">
            Here you have a high level overview of the whole year scheduled posts.         
            <span x-text="showFullText ? '..less' : '..more'"></span>
        </p>
        <p @click="showFullText = !showFullText" x-show="showFullText">
            Here you have a high level overview of the whole year scheduled posts.
            Next to each social platform icon you have the number of posts scheduled on that day.
            It's recommended to have 1-2 quality posts per day.
            More than that will make you annoying and will get you unfollowed.
            Try to give value and make posts less "addsy".
            Search on the web for "content writing formulas" to get some template ideas for your posts.
            <span x-text="showFullText ? '..less' : '..more'"></span>
        </p>
    </div>

</hgroup>


<div class="mt-4">

    <div id="months-container"
        style="display: flex; gap: 1rem; max-width: 100%; overflow-x: scroll; user-select: none;">

        <article class="pico-background-{{ calendar_data.january.article_background }}">
            <h3 class="pico-color-{{ calendar_data.january.text_color }}">
                January
                {% if calendar_data.january.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.january.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.january.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.january.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>


        <article class="pico-background-{{ calendar_data.february.article_background }}">
            <h3 class="pico-color-{{ calendar_data.february.text_color }}">
                February
                {% if calendar_data.february.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.february.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.february.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.february.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.march.article_background }}">
            <h3 class="pico-color-{{ calendar_data.march.text_color }}">
                March
                {% if calendar_data.march.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.march.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.march.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.march.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>


        <article class="pico-background-{{ calendar_data.april.article_background }}">
            <h3 class="pico-color-{{ calendar_data.april.text_color }}">
                April
                {% if calendar_data.april.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.april.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.april.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.april.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.may.article_background }}">
            <h3 class="pico-color-{{ calendar_data.may.text_color }}">
                May
                {% if calendar_data.may.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.may.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.may.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.may.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.june.article_background }}">
            <h3 class="pico-color-{{ calendar_data.june.text_color }}">
                June
                {% if calendar_data.june.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.june.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.june.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.june.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.july.article_background }}">
            <h3 class="pico-color-{{ calendar_data.july.text_color }}">
                July
                {% if calendar_data.july.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.july.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.july.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.july.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>


        <article class="pico-background-{{ calendar_data.august.article_background }}">
            <h3 class="pico-color-{{ calendar_data.august.text_color }}">
                August
                {% if calendar_data.august.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.august.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.august.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.august.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.september.article_background }}">
            <h3 class="pico-color-{{ calendar_data.september.text_color }}">
                September
                {% if calendar_data.september.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.september.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.september.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.september.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>
        <article class="pico-background-{{ calendar_data.octomber.article_background }}">
            <h3 class="pico-color-{{ calendar_data.octomber.text_color }}">
                Octomber
                {% if calendar_data.octomber.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.octomber.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.octomber.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.octomber.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.november.article_background }}">
            <h3 class="pico-color-{{ calendar_data.november.text_color }}">
                November
                {% if calendar_data.november.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.november.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.november.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.november.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

        <article class="pico-background-{{ calendar_data.december.article_background }}">
            <h3 class="pico-color-{{ calendar_data.december.text_color }}">
                December
                {% if calendar_data.december.current_month %}
                <sup id="now-month" class="pico-color-blue-150">now</sup>
                {% endif %}
            </h3>
            <ul class="no-style">
                {% for i in calendar_data.december.days %}
                <li>
                    <a class="pico-color-{{ calendar_data.december.text_color }} no-decoration"
                        href="{% url 'schedule_form' isodate=i.isodate %}">
                        <p class="pico-color-{{ calendar_data.december.text_color }}">
                            <span class="day-mono">{{ i.day }} </span>
                            <i class="bi bi-instagram"></i> <sup>{{ i.instagram_count }}</sup>
                            <i class="bi bi-facebook"></i> <sup>{{ i.facebook_count }}</sup>
                            <i class="bi bi-linkedin"></i> <sup>{{ i.linkedin_count }}</sup>
                            <i class="bi bi-twitter-x"></i> <sup>{{ i.twitter_count }}</sup>
                        </p>
                    </a>
                </li>
                {% endfor %}
            </ul>
        </article>

    </div>

</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {
        const has_current_month_element = document.getElementById("now-month");
        if (has_current_month_element) {
            has_current_month_element.scrollIntoView({ block: 'nearest' });
        }
    });
</script>



<script>
    const container = document.getElementById('months-container');

    let isDragging = false;
    let startX;
    let scrollLeft;

    container.addEventListener('mousedown', (e) => {
        isDragging = true;
        container.style.cursor = 'grabbing';
        startX = e.pageX - container.offsetLeft;
        scrollLeft = container.scrollLeft;
    });

    container.addEventListener('mouseleave', () => {
        isDragging = false;
        container.style.cursor = 'grab';
    });

    container.addEventListener('mouseup', () => {
        isDragging = false;
        container.style.cursor = 'grab';
    });

    container.addEventListener('mousemove', (e) => {
        if (!isDragging) return;
        e.preventDefault();
        const x = e.pageX - container.offsetLeft;
        const walk = (x - startX) * 2; // Adjust scrolling speed (multiplier)
        container.scrollLeft = scrollLeft - walk;
    });

</script>



{% endblock %}